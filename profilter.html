<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>项目列表</title>
</head>

<body>
    <div>
        <h1>项目列表</h1>
        <table id="projectTable">
            <tbody></tbody>
        </table>
    </div>

    <script>
        async function loadProjects() {
            try {
                const response = await fetch('list.json');
                const data = await response.json();
                const projects = data.data;
                const tbody = document.querySelector('#projectTable tbody');

                let domString = '';
                const rowCount = Math.ceil(projects.length / 6);

                for (let i = 0; i < rowCount; i++) {
                    domString += '<tr>';

                    for (let j = 0; j < 6; j++) {
                        const projectIndex = i * 6 + j;

                        if (projectIndex < projects.length) {
                            const project = projects[projectIndex];

                            domString += `
                                <td>
                                    <div align="center">
                                        <img src="${project.logo}" height="60" />
                                        <div align="center">
                                            <a href="//lxdao.io/projects/${project.id}" target="_blank">${project.name}</a>
                                        </div>
                                    </div>
                                </td>
                            `;
                        } else {
                            domString += '<td></td>';
                        }
                    }

                    domString += '</tr>';
                }

                // 打印DOM结构到控制台
                console.log(`<table><tbody>${domString}</tbody></table>`);

                // 插入DOM
                tbody.innerHTML = domString;

            } catch (error) {
                console.error('Error loading projects:', error);
                document.querySelector('#projectTable').innerHTML = '加载失败，请稍后重试';
            }
        }

        window.onload = loadProjects;
    </script>
</body>

</html>